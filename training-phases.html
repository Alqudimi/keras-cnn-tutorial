<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="استراتيجية التدريب على ثلاث مراحل - التدريب الأساسي، الضبط الدقيق، التحسين النهائي مع أكواد كاملة">
  <title>مراحل التدريب الثلاث | دليل التعلم العميق</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Cairo:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="progress-bar"></div>
  
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">
          <div class="logo-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/>
              <path d="M2 17l10 5 10-5"/>
              <path d="M2 12l10 5 10-5"/>
            </svg>
          </div>
          <span class="logo-text">دليل التعلم العميق</span>
        </a>
        
        <nav class="nav">
          <a href="index.html" class="nav-link">الرئيسية</a>
          <a href="architecture.html" class="nav-link">معمارية النموذج</a>
          <a href="preprocessing.html" class="nav-link">معالجة الصور</a>
          <a href="training-settings.html" class="nav-link">إعدادات التدريب</a>
          <a href="training-phases.html" class="nav-link">مراحل التدريب</a>
          <a href="examples.html" class="nav-link">الأمثلة العملية</a>
        </nav>
        
        <div class="header-actions">
          <button class="search-btn" aria-label="بحث">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </button>
          <button class="theme-toggle" aria-label="تبديل الوضع">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
            </svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
            </svg>
          </button>
          <button class="mobile-menu-toggle" aria-label="القائمة">
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Navigation -->
  <div class="mobile-nav-overlay"></div>
  <nav class="mobile-nav">
    <div class="mobile-nav-header">
      <span class="logo">دليل التعلم العميق</span>
      <button class="mobile-nav-close" aria-label="إغلاق">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="mobile-nav-accordion">
        <!-- 1. الأساسيات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    الأساسيات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="index.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                        </svg>
                        الرئيسية
                    </a>
                </div>
            </div>
        </div>

        <!-- 2. بناء النموذج -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    بناء النموذج
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="architecture.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        معمارية النموذج
                    </a>
                </div>
            </div>
        </div>

        <!-- 3. إعداد البيانات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    إعداد البيانات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="preprocessing.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        معالجة الصور
                    </a>
                    <a href="dataset.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10m0 0h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة البيانات
                    </a>
                </div>
            </div>
        </div>

        <!-- 4. التدريب والتحسين -->
        <div class="accordion-item active">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    التدريب والتحسين
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content" style="max-height: 2000px;">
                <div class="accordion-body">
                    <a href="training-settings.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        إعدادات التدريب
                    </a>
                    <a href="training-phases.html" class="mobile-nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        مراحل التدريب
                    </a>
                    <a href="performance.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        الأداء
                    </a>
                </div>
            </div>
        </div>

        <!-- 5. التقييم والتفسير -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                    </svg>
                    التقييم والتفسير
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="evaluation.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                        </svg>
                        التقييم
                    </a>
                    <a href="explainability.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9.247a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zM12 21a9 9 0 100-18 9 9 0 000 18z"/>
                        </svg>
                        قابلية التفسير
                    </a>
                </div>
            </div>
        </div>

        <!-- 6. الأمثلة العملية -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    الأمثلة العملية
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="examples.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        نظرة عامة
                    </a>
                    <a href="cats-dogs.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13m0 0V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v1m-3 0h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13"/>
                        </svg>
                        القطط والكلاب
                    </a>
                    <a href="fashion-mnist.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                        </svg>
                        مجموعة بيانات الأزياء
                    </a>
                    <a href="flowers.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v-2m-2 2h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة بيانات الزهور
                    </a>
                    <a href="plant-disease.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                        </svg>
                        أمراض النباتات
                    </a>
                </div>
            </div>
        </div>

        <!-- 7. أدوات وموارد -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    أدوات وموارد
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="code-templates.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        قوالب الكود
                    </a>
                    <a href="common-mistakes.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        الأخطاء الشائعة
                    </a>
                    <a href="deployment.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                        النشر
                    </a>
                </div>
            </div>
        </div>
    </div>
            </div>
        </div>

        <!-- 2. بناء النموذج -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    بناء النموذج
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="architecture.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        معمارية النموذج
                    </a>
                </div>
            </div>
        </div>

        <!-- 3. إعداد البيانات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    إعداد البيانات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="preprocessing.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        معالجة الصور
                    </a>
                    <a href="dataset.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10m0 0h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة البيانات
                    </a>
                </div>
            </div>
        </div>

        <!-- 4. التدريب والتحسين -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    التدريب والتحسين
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="training-settings.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        إعدادات التدريب
                    </a>
                    <a href="training-phases.html" class="mobile-nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        مراحل التدريب
                    </a>
                    <a href="performance.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        الأداء
                    </a>
                </div>
            </div>
        </div>

        <!-- 5. التقييم والتفسير -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                    </svg>
                    التقييم والتفسير
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="evaluation.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                        </svg>
                        التقييم
                    </a>
                    <a href="explainability.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9.247a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zM12 21a9 9 0 100-18 9 9 0 000 18z"/>
                        </svg>
                        قابلية التفسير
                    </a>
                </div>
            </div>
        </div>

        <!-- 6. الأمثلة العملية -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    الأمثلة العملية
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="examples.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        نظرة عامة
                    </a>
                    <a href="cats-dogs.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13m0 0V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v1m-3 0h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13"/>
                        </svg>
                        القطط والكلاب
                    </a>
                    <a href="fashion-mnist.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                        </svg>
                        مجموعة بيانات الأزياء
                    </a>
                    <a href="flowers.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v-2m-2 2h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة بيانات الزهور
                    </a>
                    <a href="plant-disease.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                        </svg>
                        أمراض النباتات
                    </a>
                </div>
            </div>
        </div>

        <!-- 7. أدوات وموارد -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    أدوات وموارد
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="code-templates.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        قوالب الكود
                    </a>
                    <a href="common-mistakes.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        الأخطاء الشائعة
                    </a>
                    <a href="deployment.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                        النشر
                    </a>
                </div>
            </div>
        </div>
    </div>
  </nav>

  <main class="container">
    <div class="page-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-title">محتويات الصفحة</div>
        <nav class="sidebar-nav">
          <a href="#intro" class="sidebar-link">مقدمة</a>
          <a href="#overview" class="sidebar-link">نظرة عامة</a>
          <a href="#phase1" class="sidebar-link">المرحلة الأولى</a>
          <a href="#phase2" class="sidebar-link">المرحلة الثانية</a>
          <a href="#phase3" class="sidebar-link">المرحلة الثالثة</a>
          <a href="#visualization" class="sidebar-link">رسم النتائج</a>
          <a href="#full-code" class="sidebar-link">الكود الكامل</a>
        </nav>
      </aside>

      <!-- Main Content -->
      <article class="main-content">
        <header class="page-header">
          <nav class="breadcrumb">
            <a href="index.html">الرئيسية</a>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>مراحل التدريب</span>
          </nav>
          <h1 class="page-title">التدريب على ثلاث مراحل</h1>
          <p class="page-description">
            استراتيجية تدريب متقدمة تضمن تدريبًا متدرجًا ومستقرًا للنموذج من خلال تقسيم 
            عملية التدريب إلى ثلاث مراحل بمعدلات تعلم مختلفة لتحقيق أفضل النتائج.
          </p>
        </header>

        <!-- Introduction -->
        <section id="intro" class="content-section">
          <h2>لماذا التدريب على مراحل؟</h2>
          
          <p>
            التدريب بمعدل تعلم ثابت طوال فترة التدريب ليس الاستراتيجية المثلى. في البداية، 
            نحتاج معدل تعلم عالٍ للتقدم السريع نحو منطقة جيدة من فضاء الأوزان. لكن مع 
            اقترابنا من الحد الأدنى للخسارة، نحتاج معدل تعلم أصغر لتجنب "القفز" فوقه.
          </p>

          <div class="info-card info">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div class="info-card-content">
              <h4>التشبيه: البحث عن منزل في مدينة جديدة</h4>
              <p>
                تخيل أنك تبحث عن منزل في مدينة لا تعرفها. في البداية، تستكشف المدينة بسرعة 
                (خطوات كبيرة) لتحديد الأحياء الجيدة. ثم تبطئ لاستكشاف الحي المختار بدقة. 
                وأخيرًا، تتحرك بخطوات صغيرة جدًا للعثور على المنزل المثالي تحديدًا.
              </p>
            </div>
          </div>
        </section>

        <!-- Overview -->
        <section id="overview" class="content-section">
          <h2>نظرة عامة على المراحل الثلاث</h2>
          
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>المرحلة</th>
                  <th>معدل التعلم</th>
                  <th>عدد الحقبات</th>
                  <th>الهدف</th>
                  <th>الـ Callbacks</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>المرحلة 1: التدريب الأساسي</strong></td>
                  <td><code>1e-3</code> (0.001)</td>
                  <td>~25</td>
                  <td>التقدم السريع والتعلم العام</td>
                  <td>ModelCheckpoint</td>
                </tr>
                <tr>
                  <td><strong>المرحلة 2: الضبط الدقيق</strong></td>
                  <td><code>1e-4</code> (0.0001)</td>
                  <td>~40</td>
                  <td>تحسين الأداء وضبط التفاصيل</td>
                  <td>EarlyStopping + Checkpoint</td>
                </tr>
                <tr>
                  <td><strong>المرحلة 3: التحسين النهائي</strong></td>
                  <td><code>1e-5</code> (0.00001)</td>
                  <td>~20</td>
                  <td>الوصول للحد الأقصى من الدقة</td>
                  <td>EarlyStopping + Checkpoint</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Timeline Visualization -->
          <div class="diagram" style="margin-top: var(--space-xl);">
            <div class="diagram-title">مخطط زمني لمراحل التدريب</div>
            <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-lg) 0; direction: ltr;">
              <div style="flex: 1; text-align: center; padding: var(--space-md); background: rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg); margin: 0 var(--space-xs);">
                <div style="font-weight: 700; color: #3b82f6; margin-bottom: var(--space-sm);">المرحلة 1</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: #3b82f6;">LR = 1e-3</div>
                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: var(--space-sm);">تعلم سريع</div>
                <div style="font-size: 0.75rem; color: var(--text-tertiary);">~25 حقبة</div>
              </div>
              <div style="width: 40px; height: 2px; background: var(--border-color);"></div>
              <div style="flex: 1; text-align: center; padding: var(--space-md); background: rgba(139, 92, 246, 0.1); border-radius: var(--radius-lg); margin: 0 var(--space-xs);">
                <div style="font-weight: 700; color: #8b5cf6; margin-bottom: var(--space-sm);">المرحلة 2</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: #8b5cf6;">LR = 1e-4</div>
                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: var(--space-sm);">ضبط دقيق</div>
                <div style="font-size: 0.75rem; color: var(--text-tertiary);">~40 حقبة</div>
              </div>
              <div style="width: 40px; height: 2px; background: var(--border-color);"></div>
              <div style="flex: 1; text-align: center; padding: var(--space-md); background: rgba(34, 197, 94, 0.1); border-radius: var(--radius-lg); margin: 0 var(--space-xs);">
                <div style="font-weight: 700; color: #22c55e; margin-bottom: var(--space-sm);">المرحلة 3</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: #22c55e;">LR = 1e-5</div>
                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-top: var(--space-sm);">تحسين نهائي</div>
                <div style="font-size: 0.75rem; color: var(--text-tertiary);">~20 حقبة</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Phase 1 -->
        <section id="phase1" class="content-section">
          <h2>المرحلة الأولى: التدريب الأساسي</h2>
          
          <p>
            في هذه المرحلة، نستخدم معدل تعلم عالٍ نسبيًا (<code>1e-3</code>) للسماح للنموذج 
            بالتعلم السريع واستكشاف فضاء الأوزان بحرية. الهدف هو الوصول إلى منطقة جيدة 
            من الفضاء وليس الوصول للحد الأدنى بعد.
          </p>

          <h3>خصائص المرحلة الأولى</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>معدل التعلم:</strong> 1e-3 (مرتفع نسبيًا)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>عدد الحقبات:</strong> حوالي 25 حقبة</li>
            <li style="margin-bottom: var(--space-sm);"><strong>بدون Early Stopping:</strong> نريد التعلم بحرية</li>
            <li style="margin-bottom: var(--space-sm);"><strong>مع ModelCheckpoint:</strong> لحفظ أفضل نموذج</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>import tensorflow as tf
from tensorflow.keras.callbacks import ModelCheckpoint

# ═══════════════════════════════════════════════════
# المرحلة 1: التدريب الأساسي
# ═══════════════════════════════════════════════════
print("=" * 50)
print("المرحلة 1: التدريب الأساسي (LR: 1e-3)")
print("=" * 50)

# تجميع النموذج بمعدل تعلم عالٍ
model.compile(
    optimizer=tf.keras.optimizers.Adam(learning_rate=1e-3),
    loss='categorical_crossentropy',
    metrics=['accuracy']
)

# حفظ أفضل نموذج
checkpoint = ModelCheckpoint(
    'best_model.h5',
    monitor='val_accuracy',
    save_best_only=True,
    verbose=1
)

# التدريب
history_1 = model.fit(
    x_train, y_train,
    batch_size=32,
    epochs=25,
    validation_data=(x_val, y_val),
    callbacks=[checkpoint],
    verbose=1
)

print(f"✅ انتهت المرحلة 1 - أفضل دقة: {max(history_1.history['val_accuracy']):.4f}")</code></pre>
            </div>
          </div>
        </section>

        <!-- Phase 2 -->
        <section id="phase2" class="content-section">
          <h2>المرحلة الثانية: الضبط الدقيق</h2>
          
          <p>
            بعد أن وصل النموذج إلى منطقة جيدة، نقلل معدل التعلم بعشر مرات (<code>1e-4</code>) 
            للسماح بضبط أدق للأوزان. نضيف أيضًا Early Stopping لمنع الإفراط في التكييف.
          </p>

          <h3>خصائص المرحلة الثانية</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>معدل التعلم:</strong> 1e-4 (عُشر المرحلة الأولى)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>عدد الحقبات:</strong> حوالي 40 حقبة (أو أقل مع Early Stopping)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>مع Early Stopping:</strong> للإيقاف عند توقف التحسن</li>
            <li style="margin-bottom: var(--space-sm);"><strong>initial_epoch:</strong> يستمر من حيث توقفت المرحلة الأولى</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>from tensorflow.keras.callbacks import EarlyStopping

# ═══════════════════════════════════════════════════
# المرحلة 2: الضبط الدقيق
# ═══════════════════════════════════════════════════
print("=" * 50)
print("المرحلة 2: الضبط الدقيق (LR: 1e-4)")
print("=" * 50)

# إعادة تجميع النموذج بمعدل تعلم أقل
model.compile(
    optimizer=tf.keras.optimizers.Adam(learning_rate=1e-4),
    loss='categorical_crossentropy',
    metrics=['accuracy']
)

# إضافة Early Stopping
early_stopping = EarlyStopping(
    monitor='val_loss',
    patience=15,
    restore_best_weights=True,
    verbose=1
)

# التدريب (يستمر من حيث توقفت المرحلة الأولى)
phase1_epochs = len(history_1.history['accuracy'])

history_2 = model.fit(
    x_train, y_train,
    batch_size=32,
    epochs=phase1_epochs + 40,  # 40 حقبة إضافية كحد أقصى
    validation_data=(x_val, y_val),
    callbacks=[early_stopping, checkpoint],
    initial_epoch=phase1_epochs,  # البدء من حيث توقفنا
    verbose=1
)

print(f"✅ انتهت المرحلة 2 - أفضل دقة: {max(history_2.history['val_accuracy']):.4f}")</code></pre>
            </div>
          </div>
        </section>

        <!-- Phase 3 -->
        <section id="phase3" class="content-section">
          <h2>المرحلة الثالثة: التحسين النهائي</h2>
          
          <p>
            في المرحلة الأخيرة، نستخدم معدل تعلم منخفض جدًا (<code>1e-5</code>) للوصول 
            إلى أقرب نقطة ممكنة من الحد الأدنى للخسارة. التحركات هنا صغيرة جدًا ودقيقة.
          </p>

          <h3>خصائص المرحلة الثالثة</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>معدل التعلم:</strong> 1e-5 (منخفض جدًا)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>عدد الحقبات:</strong> حوالي 20 حقبة (عادة ينتهي مبكرًا)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>مع Early Stopping:</strong> لأن التحسن سيكون بطيئًا جدًا</li>
            <li style="margin-bottom: var(--space-sm);"><strong>الهدف:</strong> استخراج آخر قطرة من الأداء</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># ═══════════════════════════════════════════════════
# المرحلة 3: التحسين النهائي
# ═══════════════════════════════════════════════════
print("=" * 50)
print("المرحلة 3: التحسين النهائي (LR: 1e-5)")
print("=" * 50)

# إعادة تجميع النموذج بمعدل تعلم منخفض جدًا
model.compile(
    optimizer=tf.keras.optimizers.Adam(learning_rate=1e-5),
    loss='categorical_crossentropy',
    metrics=['accuracy']
)

# حساب عدد الحقبات السابقة
phase2_epochs = len(history_2.history['accuracy'])
total_previous = phase1_epochs + phase2_epochs

# التدريب النهائي
history_3 = model.fit(
    x_train, y_train,
    batch_size=32,
    epochs=total_previous + 20,  # 20 حقبة إضافية كحد أقصى
    validation_data=(x_val, y_val),
    callbacks=[early_stopping, checkpoint],
    initial_epoch=total_previous,
    verbose=1
)

print(f"✅ انتهت المرحلة 3 - أفضل دقة: {max(history_3.history['val_accuracy']):.4f}")
print("🎉 انتهى التدريب!")</code></pre>
            </div>
          </div>

          <div class="info-card success">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div class="info-card-content">
              <h4>ملاحظة مهمة</h4>
              <p>
                غالبًا ما تتوقف المرحلة الثالثة مبكرًا بسبب Early Stopping لأن التحسن 
                بمعدل تعلم 1e-5 بطيء جدًا. هذا طبيعي ومتوقع. الهدف من هذه المرحلة هو 
                التأكد من أننا وصلنا لأفضل أداء ممكن.
              </p>
            </div>
          </div>
        </section>

        <!-- Visualization -->
        <section id="visualization" class="content-section">
          <h2>رسم نتائج التدريب</h2>
          
          <p>
            رسم منحنيات التدريب والتحقق يساعد في فهم سلوك النموذج عبر المراحل الثلاث 
            وتحديد أي مشاكل مثل الإفراط في التكييف.
          </p>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>import matplotlib.pyplot as plt

def plot_training_history(history_all):
    """
    رسم بياني لنتائج التدريب عبر المراحل الثلاث
    
    Args:
        history_all: قاموس يحتوي على تاريخ كل مرحلة
    """
    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(15, 5))
    
    # تجميع التاريخ من جميع المراحل
    all_acc = []
    all_val_acc = []
    all_loss = []
    all_val_loss = []
    
    for phase, history in history_all.items():
        all_acc.extend(history.history['accuracy'])
        all_val_acc.extend(history.history['val_accuracy'])
        all_loss.extend(history.history['loss'])
        all_val_loss.extend(history.history['val_loss'])
    
    epochs_range = range(1, len(all_acc) + 1)
    
    # ═══════════════════════════════════════════════
    # رسم الدقة
    # ═══════════════════════════════════════════════
    ax1.plot(epochs_range, all_acc, 'b-', label='دقة التدريب', linewidth=2)
    ax1.plot(epochs_range, all_val_acc, 'r-', label='دقة التحقق', linewidth=2)
    ax1.set_title('دقة النموذج عبر المراحل الثلاث', fontsize=14, fontweight='bold')
    ax1.set_xlabel('Epoch', fontsize=12)
    ax1.set_ylabel('Accuracy', fontsize=12)
    ax1.legend(loc='lower right')
    ax1.grid(True, alpha=0.3)
    
    # إضافة خطوط عمودية للفصل بين المراحل
    phase1_end = len(history_all['phase1'].history['accuracy'])
    phase2_end = phase1_end + len(history_all['phase2'].history['accuracy'])
    
    ax1.axvline(x=phase1_end, color='gray', linestyle='--', alpha=0.7)
    ax1.axvline(x=phase2_end, color='gray', linestyle='--', alpha=0.7)
    
    # ═══════════════════════════════════════════════
    # رسم الخسارة
    # ═══════════════════════════════════════════════
    ax2.plot(epochs_range, all_loss, 'b-', label='خسارة التدريب', linewidth=2)
    ax2.plot(epochs_range, all_val_loss, 'r-', label='خسارة التحقق', linewidth=2)
    ax2.set_title('خسارة النموذج عبر المراحل الثلاث', fontsize=14, fontweight='bold')
    ax2.set_xlabel('Epoch', fontsize=12)
    ax2.set_ylabel('Loss', fontsize=12)
    ax2.legend(loc='upper right')
    ax2.grid(True, alpha=0.3)
    
    ax2.axvline(x=phase1_end, color='gray', linestyle='--', alpha=0.7)
    ax2.axvline(x=phase2_end, color='gray', linestyle='--', alpha=0.7)
    
    plt.tight_layout()
    plt.savefig('training_history.png', dpi=150, bbox_inches='tight')
    plt.show()
    
    print("✅ تم حفظ الرسم البياني في 'training_history.png'")

# الاستخدام
history_all = {
    'phase1': history_1,
    'phase2': history_2,
    'phase3': history_3
}
plot_training_history(history_all)</code></pre>
            </div>
          </div>
        </section>

        <!-- Full Code -->
        <section id="full-code" class="content-section">
          <h2>الكود الكامل للتدريب على ثلاث مراحل</h2>
          
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>import tensorflow as tf
from tensorflow.keras import layers, models
from tensorflow.keras.callbacks import EarlyStopping, ModelCheckpoint
import matplotlib.pyplot as plt

def train_model_three_phases(model, x_train, y_train, x_val, y_val, num_classes):
    """
    تدريب النموذج على المراحل الثلاث
    
    Args:
        model: النموذج
        x_train, y_train: بيانات التدريب
        x_val, y_val: بيانات التحقق
        num_classes: عدد الفئات
    
    Returns:
        history_all: تاريخ التدريب لجميع المراحل
        model: النموذج المدرب
    """
    
    # تحويل التسميات إلى One-Hot إذا لزم الأمر
    if len(y_train.shape) == 1:
        y_train = tf.keras.utils.to_categorical(y_train, num_classes)
        y_val = tf.keras.utils.to_categorical(y_val, num_classes)
    
    # ═══════════════════════════════════════════════════
    # Callbacks مشتركة
    # ═══════════════════════════════════════════════════
    early_stopping = EarlyStopping(
        monitor='val_loss',
        patience=15,
        restore_best_weights=True,
        verbose=1
    )
    
    checkpoint = ModelCheckpoint(
        'best_model.h5',
        monitor='val_accuracy',
        save_best_only=True,
        verbose=1
    )
    
    history_all = {}
    
    # ═══════════════════════════════════════════════════
    # المرحلة 1: التدريب الأساسي
    # ═══════════════════════════════════════════════════
    print("\n" + "=" * 60)
    print("المرحلة 1: التدريب الأساسي (Learning Rate: 1e-3)")
    print("=" * 60)
    
    model.compile(
        optimizer=tf.keras.optimizers.Adam(learning_rate=1e-3),
        loss='categorical_crossentropy',
        metrics=['accuracy']
    )
    
    history_1 = model.fit(
        x_train, y_train,
        batch_size=32,
        epochs=25,
        validation_data=(x_val, y_val),
        callbacks=[checkpoint],
        verbose=1
    )
    history_all['phase1'] = history_1
    
    # ═══════════════════════════════════════════════════
    # المرحلة 2: الضبط الدقيق
    # ═══════════════════════════════════════════════════
    print("\n" + "=" * 60)
    print("المرحلة 2: الضبط الدقيق (Learning Rate: 1e-4)")
    print("=" * 60)
    
    model.compile(
        optimizer=tf.keras.optimizers.Adam(learning_rate=1e-4),
        loss='categorical_crossentropy',
        metrics=['accuracy']
    )
    
    phase1_epochs = len(history_1.history['accuracy'])
    
    history_2 = model.fit(
        x_train, y_train,
        batch_size=32,
        epochs=phase1_epochs + 40,
        validation_data=(x_val, y_val),
        callbacks=[early_stopping, checkpoint],
        initial_epoch=phase1_epochs,
        verbose=1
    )
    history_all['phase2'] = history_2
    
    # ═══════════════════════════════════════════════════
    # المرحلة 3: التحسين النهائي
    # ═══════════════════════════════════════════════════
    print("\n" + "=" * 60)
    print("المرحلة 3: التحسين النهائي (Learning Rate: 1e-5)")
    print("=" * 60)
    
    model.compile(
        optimizer=tf.keras.optimizers.Adam(learning_rate=1e-5),
        loss='categorical_crossentropy',
        metrics=['accuracy']
    )
    
    phase2_epochs = len(history_2.history['accuracy'])
    total_previous = phase1_epochs + phase2_epochs
    
    history_3 = model.fit(
        x_train, y_train,
        batch_size=32,
        epochs=total_previous + 20,
        validation_data=(x_val, y_val),
        callbacks=[early_stopping, checkpoint],
        initial_epoch=total_previous,
        verbose=1
    )
    history_all['phase3'] = history_3
    
    print("\n" + "=" * 60)
    print("🎉 انتهى التدريب بنجاح!")
    print("=" * 60)
    
    return history_all, model

# ═══════════════════════════════════════════════════════
# مثال للاستخدام
# ═══════════════════════════════════════════════════════
if __name__ == "__main__":
    # تحميل بيانات CIFAR-10 كمثال
    (x_train, y_train), (x_test, y_test) = tf.keras.datasets.cifar10.load_data()
    
    # المعالجة المسبقة
    x_train = x_train.astype('float32') / 255.0
    x_test = x_test.astype('float32') / 255.0
    
    INPUT_SHAPE = x_train.shape[1:]
    NUM_CLASSES = 10
    
    # إنشاء النموذج (استخدم الدالة من صفحة المعمارية)
    from architecture import create_cnn_model
    model = create_cnn_model(INPUT_SHAPE, NUM_CLASSES)
    
    # التدريب
    history, trained_model = train_model_three_phases(
        model, x_train, y_train, x_test, y_test, NUM_CLASSES
    )
    
    # حفظ النموذج النهائي
    trained_model.save('final_trained_model.h5')
    print("✅ تم حفظ النموذج النهائي في 'final_trained_model.h5'")</code></pre>
            </div>
          </div>
        </section>

        <!-- Navigation -->
        <div style="display: flex; justify-content: space-between; margin-top: var(--space-2xl); padding-top: var(--space-xl); border-top: 1px solid var(--border-color);">
          <a href="training-settings.html" class="btn btn-secondary">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
            إعدادات التدريب
          </a>
          <a href="examples.html" class="btn btn-primary">
            الأمثلة العملية
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </a>
        </div>
      </article>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>جميع الحقوق محفوظة © 2024 - دليل التعلم العميق الشامل</p>
      </div>
    </div>
  </footer>

  <!-- Search Modal -->
  <div class="search-modal">
    <div class="search-container">
      <div class="search-input-wrapper">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
        <input type="search" class="search-input" placeholder="ابحث في الدليل... (Ctrl+K)">
      </div>
      <div class="search-results"></div>
    </div>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
