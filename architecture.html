<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="شرح تفصيلي لمعمارية الشبكة العصبية التلافيفية CNN باستخدام TensorFlow و Keras - طبقات Conv2D، BatchNormalization، MaxPooling، Dropout">
  <title>معمارية النموذج CNN | دليل التعلم العميق</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Cairo:wght@400;500;600;700&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="progress-bar"></div>
  
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">
          <div class="logo-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2L2 7l10 5 10-5-10-5z"/>
              <path d="M2 17l10 5 10-5"/>
              <path d="M2 12l10 5 10-5"/>
            </svg>
          </div>
          <span class="logo-text">دليل التعلم العميق</span>
        </a>
        
        <nav class="nav">
          <a href="index.html" class="nav-link">الرئيسية</a>
          <a href="architecture.html" class="nav-link">معمارية النموذج</a>
          <a href="preprocessing.html" class="nav-link">معالجة الصور</a>
          <a href="training-settings.html" class="nav-link">إعدادات التدريب</a>
          <a href="training-phases.html" class="nav-link">مراحل التدريب</a>
          <a href="examples.html" class="nav-link">الأمثلة العملية</a>
        </nav>
        
        <div class="header-actions">
          <button class="search-btn" aria-label="بحث">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </button>
          <button class="theme-toggle" aria-label="تبديل الوضع">
            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
            </svg>
            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
            </svg>
          </button>
          <button class="mobile-menu-toggle" aria-label="القائمة">
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Navigation -->
  <div class="mobile-nav-overlay"></div>
  <nav class="mobile-nav">
    <div class="mobile-nav-header">
      <span class="logo">دليل التعلم العميق</span>
      <button class="mobile-nav-close" aria-label="إغلاق">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <div class="mobile-nav-accordion">
        <!-- 1. الأساسيات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                    </svg>
                    الأساسيات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="index.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                        </svg>
                        الرئيسية
                    </a>
                </div>
            </div>
        </div>

        <!-- 2. بناء النموذج -->
        <div class="accordion-item active">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    بناء النموذج
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content" style="max-height: 2000px;">
                <div class="accordion-body">
                    <a href="architecture.html" class="mobile-nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        معمارية النموذج
                    </a>
                </div>
            </div>
        </div>

        <!-- 3. إعداد البيانات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    إعداد البيانات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="preprocessing.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        معالجة الصور
                    </a>
                    <a href="dataset.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10m0 0h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة البيانات
                    </a>
                </div>
            </div>
        </div>

        <!-- 4. التدريب والتحسين -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    التدريب والتحسين
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="training-settings.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        إعدادات التدريب
                    </a>
                    <a href="training-phases.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        مراحل التدريب
                    </a>
                    <a href="performance.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        الأداء
                    </a>
                </div>
            </div>
        </div>

        <!-- 5. التقييم والتفسير -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                    </svg>
                    التقييم والتفسير
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="evaluation.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                        </svg>
                        التقييم
                    </a>
                    <a href="explainability.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9.247a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zM12 21a9 9 0 100-18 9 9 0 000 18z"/>
                        </svg>
                        قابلية التفسير
                    </a>
                </div>
            </div>
        </div>

        <!-- 6. الأمثلة العملية -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    الأمثلة العملية
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="examples.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        نظرة عامة
                    </a>
                    <a href="cats-dogs.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13m0 0V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v1m-3 0h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13"/>
                        </svg>
                        القطط والكلاب
                    </a>
                    <a href="fashion-mnist.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                        </svg>
                        مجموعة بيانات الأزياء
                    </a>
                    <a href="flowers.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v-2m-2 2h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة بيانات الزهور
                    </a>
                    <a href="plant-disease.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                        </svg>
                        أمراض النباتات
                    </a>
                </div>
            </div>
        </div>

        <!-- 7. أدوات وموارد -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    أدوات وموارد
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="code-templates.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        قوالب الكود
                    </a>
                    <a href="common-mistakes.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        الأخطاء الشائعة
                    </a>
                    <a href="deployment.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                        النشر
                    </a>
                </div>
            </div>
        </div>
    </div>
            </div>
        </div>

        <!-- 2. بناء النموذج -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                    بناء النموذج
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="architecture.html" class="mobile-nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        معمارية النموذج
                    </a>
                </div>
            </div>
        </div>

        <!-- 3. إعداد البيانات -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    إعداد البيانات
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="preprocessing.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        معالجة الصور
                    </a>
                    <a href="dataset.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10m0 0h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة البيانات
                    </a>
                </div>
            </div>
        </div>

        <!-- 4. التدريب والتحسين -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                    التدريب والتحسين
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="training-settings.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        إعدادات التدريب
                    </a>
                    <a href="training-phases.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        مراحل التدريب
                    </a>
                    <a href="performance.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        الأداء
                    </a>
                </div>
            </div>
        </div>

        <!-- 5. التقييم والتفسير -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                    </svg>
                    التقييم والتفسير
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="evaluation.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6m3 0V7a2 2 0 012-2h2a2 2 0 012 2v12m0 0h3.623c.445 0 .74-.401.585-.802l-3.5-7A1.125 1.125 0 0117.5 9h2.5a2 2 0 012 2v7.25c0 .556-.444 1.25-1.25 1.25H9z"/>
                        </svg>
                        التقييم
                    </a>
                    <a href="explainability.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9.247a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zm-1.782 1.018a1 1 0 01.791-.764 1 1 0 11.424 1.963 1 1 0 01-.791.764zM12 21a9 9 0 100-18 9 9 0 000 18z"/>
                        </svg>
                        قابلية التفسير
                    </a>
                </div>
            </div>
        </div>

        <!-- 6. الأمثلة العملية -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    الأمثلة العملية
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="examples.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        نظرة عامة
                    </a>
                    <a href="cats-dogs.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13m0 0V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v1m-3 0h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21H6.737a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.737 10H13"/>
                        </svg>
                        القطط والكلاب
                    </a>
                    <a href="fashion-mnist.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                        </svg>
                        مجموعة بيانات الأزياء
                    </a>
                    <a href="flowers.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v-2m-2 2h4m-4 0l4-4m-4 4l4 4m-4-4h12a2 2 0 002-2V9a2 2 0 00-2-2h-4m-7 0l-3 3"/>
                        </svg>
                        مجموعة بيانات الزهور
                    </a>
                    <a href="plant-disease.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                        </svg>
                        أمراض النباتات
                    </a>
                </div>
            </div>
        </div>

        <!-- 7. أدوات وموارد -->
        <div class="accordion-item">
            <button class="accordion-header">
                <span class="accordion-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                    </svg>
                    أدوات وموارد
                </span>
                <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </button>
            <div class="accordion-content">
                <div class="accordion-body">
                    <a href="code-templates.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        قوالب الكود
                    </a>
                    <a href="common-mistakes.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        الأخطاء الشائعة
                    </a>
                    <a href="deployment.html" class="mobile-nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                        النشر
                    </a>
                </div>
            </div>
        </div>
    </div>
  </nav>

  <main class="container">
    <div class="page-layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-title">محتويات الصفحة</div>
        <nav class="sidebar-nav">
          <a href="#intro" class="sidebar-link">مقدمة</a>
          <a href="#overview" class="sidebar-link">نظرة عامة على البنية</a>
          <a href="#conv2d" class="sidebar-link">طبقة Conv2D</a>
          <a href="#batchnorm" class="sidebar-link">Batch Normalization</a>
          <a href="#activation" class="sidebar-link">دالة التنشيط ReLU</a>
          <a href="#maxpooling" class="sidebar-link">MaxPooling</a>
          <a href="#globalpooling" class="sidebar-link">Global Average Pooling</a>
          <a href="#dropout" class="sidebar-link">Dropout</a>
          <a href="#dense" class="sidebar-link">الطبقات الكثيفة</a>
          <a href="#full-code" class="sidebar-link">الكود الكامل</a>
          <a href="#functional-api" class="sidebar-link">Functional API</a>
        </nav>
      </aside>

      <!-- Main Content -->
      <article class="main-content">
        <header class="page-header">
          <nav class="breadcrumb">
            <a href="index.html">الرئيسية</a>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            <span>معمارية النموذج</span>
          </nav>
          <h1 class="page-title">معمارية الشبكة العصبية التلافيفية (CNN)</h1>
          <p class="page-description">
            دليل شامل ومفصل لبناء شبكة عصبية تلافيفية (Convolutional Neural Network) متكاملة 
            باستخدام TensorFlow و Keras. سنشرح كل طبقة بالتفصيل مع الأكواد العملية.
          </p>
        </header>

        <!-- Introduction -->
        <section id="intro" class="content-section">
          <h2>مقدمة: ما هي الشبكات العصبية التلافيفية؟</h2>
          
          <p>
            الشبكات العصبية التلافيفية (Convolutional Neural Networks - CNN) هي نوع متخصص من الشبكات العصبية 
            مصممة خصيصًا للتعامل مع البيانات ذات البنية الشبكية مثل الصور. تتميز هذه الشبكات بقدرتها الفائقة على 
            استخراج الأنماط والميزات من الصور بشكل تلقائي، مما جعلها الخيار الأمثل لمهام الرؤية الحاسوبية 
            مثل تصنيف الصور، الكشف عن الأجسام، والتعرف على الوجوه.
          </p>

          <div class="info-card info">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div class="info-card-content">
              <h4>لماذا CNN بدلاً من الشبكات العادية؟</h4>
              <p>
                الشبكات العصبية التقليدية تعامل كل بكسل كمدخل مستقل، مما يتجاهل العلاقات المكانية بين البكسلات. 
                بينما CNN تستخدم الفلاتر (Kernels) لاستخراج الميزات المكانية مع الحفاظ على بنية الصورة، 
                مما يجعلها أكثر كفاءة وفعالية في التعامل مع الصور.
              </p>
            </div>
          </div>

          <h3>المكونات الأساسية لشبكة CNN</h3>
          <p>تتكون شبكة CNN النموذجية من عدة أنواع من الطبقات المتخصصة:</p>
          
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>طبقات الالتفاف (Convolutional Layers):</strong> تستخرج الميزات من الصورة باستخدام فلاتر قابلة للتعلم</li>
            <li style="margin-bottom: var(--space-sm);"><strong>طبقات التطبيع (Batch Normalization):</strong> تحسن استقرار وسرعة التدريب</li>
            <li style="margin-bottom: var(--space-sm);"><strong>طبقات التجميع (Pooling Layers):</strong> تقلل أبعاد البيانات مع الحفاظ على الميزات المهمة</li>
            <li style="margin-bottom: var(--space-sm);"><strong>طبقات التنشيط (Activation Layers):</strong> تضيف اللاخطية للنموذج</li>
            <li style="margin-bottom: var(--space-sm);"><strong>طبقات Dropout:</strong> تمنع الإفراط في التكييف (Overfitting)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>الطبقات الكثيفة (Dense Layers):</strong> تقوم بالتصنيف النهائي</li>
          </ul>
        </section>

        <!-- Architecture Overview -->
        <section id="overview" class="content-section">
          <h2>نظرة عامة على البنية المستخدمة</h2>
          
          <p>
            سنبني شبكة CNN تتكون من 4 كتل (Blocks) متتالية، كل كتلة تحتوي على طبقات التفاف وتطبيع وتفعيل وتجميع. 
            تتميز هذه البنية بالتصميم الهرمي حيث يزداد عدد الفلاتر مع تعمق الشبكة (32 → 64 → 128 → 256).
          </p>

          <!-- CNN Architecture Diagram -->
          <div class="diagram">
            <div class="diagram-title">التدفق العام للشبكة العصبية</div>
            <div class="cnn-flow">
              <div class="cnn-block">
                <span class="cnn-block-label">Input</span>
                <div class="cnn-layer" style="background: rgba(100, 116, 139, 0.2); border-color: #64748b; color: #64748b;">صورة الإدخال</div>
              </div>
              <span class="cnn-arrow">→</span>
              <div class="cnn-block">
                <span class="cnn-block-label">Block 1</span>
                <div class="cnn-layer conv">Conv2D(32)</div>
                <div class="cnn-layer bn">BatchNorm</div>
                <div class="cnn-layer relu">ReLU</div>
                <div class="cnn-layer pool">MaxPool</div>
              </div>
              <span class="cnn-arrow">→</span>
              <div class="cnn-block">
                <span class="cnn-block-label">Block 2</span>
                <div class="cnn-layer conv">Conv2D(64)</div>
                <div class="cnn-layer bn">BatchNorm</div>
                <div class="cnn-layer relu">ReLU</div>
                <div class="cnn-layer pool">MaxPool</div>
              </div>
              <span class="cnn-arrow">→</span>
              <div class="cnn-block">
                <span class="cnn-block-label">Block 3</span>
                <div class="cnn-layer conv">Conv2D(128)×2</div>
                <div class="cnn-layer bn">BatchNorm×2</div>
                <div class="cnn-layer relu">ReLU×2</div>
                <div class="cnn-layer pool">MaxPool</div>
              </div>
              <span class="cnn-arrow">→</span>
              <div class="cnn-block">
                <span class="cnn-block-label">Block 4</span>
                <div class="cnn-layer conv">Conv2D(256)×2</div>
                <div class="cnn-layer bn">BatchNorm×2</div>
                <div class="cnn-layer relu">ReLU×2</div>
                <div class="cnn-layer pool">MaxPool</div>
              </div>
              <span class="cnn-arrow">→</span>
              <div class="cnn-block">
                <span class="cnn-block-label">Classification</span>
                <div class="cnn-layer pool">GlobalAvgPool</div>
                <div class="cnn-layer dropout">Dropout(0.4)</div>
                <div class="cnn-layer dense">Dense(128)</div>
                <div class="cnn-layer dropout">Dropout(0.3)</div>
                <div class="cnn-layer dense">Softmax</div>
              </div>
            </div>
          </div>

          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>الكتلة</th>
                  <th>عدد الفلاتر</th>
                  <th>حجم الفلتر</th>
                  <th>الطبقات</th>
                  <th>الملاحظات</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Block 1</td>
                  <td>32</td>
                  <td>3×3</td>
                  <td>Conv → BN → ReLU → MaxPool</td>
                  <td>استخراج الميزات البسيطة (حواف، خطوط)</td>
                </tr>
                <tr>
                  <td>Block 2</td>
                  <td>64</td>
                  <td>3×3</td>
                  <td>Conv → BN → ReLU → MaxPool</td>
                  <td>ميزات أكثر تعقيدًا (أنماط، أشكال)</td>
                </tr>
                <tr>
                  <td>Block 3</td>
                  <td>128</td>
                  <td>3×3</td>
                  <td>(Conv → BN → ReLU) × 2 → MaxPool</td>
                  <td>طبقتان التفاف متتاليتان</td>
                </tr>
                <tr>
                  <td>Block 4</td>
                  <td>256</td>
                  <td>3×3</td>
                  <td>(Conv → BN → ReLU) × 2 → MaxPool</td>
                  <td>ميزات عالية المستوى (أجزاء الكائنات)</td>
                </tr>
                <tr>
                  <td>Head</td>
                  <td>-</td>
                  <td>-</td>
                  <td>GAP → Dense(128) → Dense(N)</td>
                  <td>التصنيف النهائي</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Conv2D Layer -->
        <section id="conv2d" class="content-section">
          <h2>طبقة الالتفاف Conv2D</h2>
          
          <p>
            طبقة الالتفاف (Convolutional Layer) هي القلب النابض لشبكة CNN. تستخدم هذه الطبقة فلاتر صغيرة 
            (عادة 3×3 أو 5×5) تنزلق عبر الصورة لاستخراج الميزات المحلية. كل فلتر يتعلم اكتشاف نمط معين 
            مثل الحواف الأفقية، الحواف العمودية، الزوايا، وغيرها.
          </p>

          <h3>كيف تعمل طبقة Conv2D؟</h3>
          <p>
            تخيل فلترًا صغيرًا (نافذة) يتحرك عبر الصورة خطوة بخطوة. في كل موقع، يقوم الفلتر بعملية ضرب 
            عنصر بعنصر مع قيم البكسلات تحته، ثم يجمع النتائج للحصول على قيمة واحدة. هذه العملية تنتج 
            "خريطة ميزات" (Feature Map) توضح أين يوجد النمط الذي يبحث عنه الفلتر.
          </p>

          <h3>المعاملات الأساسية</h3>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>المعامل</th>
                  <th>الوصف</th>
                  <th>القيمة المستخدمة</th>
                  <th>ملاحظات</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>filters</code></td>
                  <td>عدد الفلاتر (خرائط الميزات)</td>
                  <td>32, 64, 128, 256</td>
                  <td>يزداد مع تعمق الشبكة</td>
                </tr>
                <tr>
                  <td><code>kernel_size</code></td>
                  <td>حجم الفلتر (الارتفاع × العرض)</td>
                  <td>(3, 3)</td>
                  <td>الأكثر شيوعًا، يلتقط التفاصيل الدقيقة</td>
                </tr>
                <tr>
                  <td><code>padding</code></td>
                  <td>إضافة حشو للحفاظ على الأبعاد</td>
                  <td>'same'</td>
                  <td>يحافظ على نفس أبعاد الإدخال</td>
                </tr>
                <tr>
                  <td><code>strides</code></td>
                  <td>خطوة تحرك الفلتر</td>
                  <td>(1, 1)</td>
                  <td>افتراضي، الفلتر يتحرك بكسل واحد</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># مثال على طبقة Conv2D
from tensorflow.keras import layers

# طبقة الالتفاف الأولى (32 فلتر)
conv_layer = layers.Conv2D(
    filters=32,           # عدد الفلاتر (خرائط الميزات)
    kernel_size=(3, 3),   # حجم الفلتر 3×3
    padding='same',       # الحشو للحفاظ على الأبعاد
    input_shape=(224, 224, 3)  # شكل صورة الإدخال (ارتفاع، عرض، قنوات)
)

# الإخراج: (batch_size, 224, 224, 32)
# - نفس الأبعاد المكانية (بسبب padding='same')
# - 32 خريطة ميزات بدلاً من 3 قنوات</code></pre>
            </div>
          </div>

          <div class="info-card tip">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
            <div class="info-card-content">
              <h4>نصيحة: لماذا نزيد عدد الفلاتر؟</h4>
              <p>
                مع تعمق الشبكة، تصبح خرائط الميزات أصغر مكانيًا (بسبب MaxPooling)، لذلك نزيد عدد الفلاتر 
                للتعويض والسماح للشبكة بتعلم المزيد من الميزات المعقدة. القاعدة الشائعة: مضاعفة الفلاتر 
                عند كل تقليص في الأبعاد المكانية.
              </p>
            </div>
          </div>
        </section>

        <!-- Batch Normalization -->
        <section id="batchnorm" class="content-section">
          <h2>طبقة Batch Normalization</h2>
          
          <p>
            Batch Normalization (تطبيع الدفعات) هي تقنية ثورية تم تقديمها في عام 2015 وأصبحت معيارًا 
            في معظم الشبكات العصبية الحديثة. تقوم هذه الطبقة بتطبيع مخرجات الطبقة السابقة لتكون ذات 
            متوسط قريب من الصفر وانحراف معياري قريب من الواحد.
          </p>

          <h3>لماذا نستخدم Batch Normalization؟</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>تسريع التدريب:</strong> يسمح باستخدام معدلات تعلم أعلى دون مشاكل التقارب</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تقليل الحساسية للتهيئة:</strong> يجعل اختيار الأوزان الأولية أقل أهمية</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تنظيم النموذج:</strong> يعمل كمنظم ويقلل الحاجة لـ Dropout أحيانًا</li>
            <li style="margin-bottom: var(--space-sm);"><strong>استقرار التدريب:</strong> يمنع مشكلة "Internal Covariate Shift"</li>
          </ul>

          <h3>كيف يعمل؟</h3>
          <p>
            لكل دفعة (batch) من البيانات، تحسب الطبقة المتوسط والانحراف المعياري، ثم تطبق التحويل:
          </p>
          
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># استخدام Batch Normalization
from tensorflow.keras import layers

# الترتيب المثالي: Conv2D → BatchNormalization → Activation
model.add(layers.Conv2D(32, (3, 3), padding='same'))
model.add(layers.BatchNormalization())
model.add(layers.ReLU())

# ملاحظة: BatchNorm يتم تطبيقه قبل دالة التنشيط
# هذا الترتيب أظهر نتائج أفضل في الممارسة العملية</code></pre>
            </div>
          </div>

          <div class="info-card warning">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
            </svg>
            <div class="info-card-content">
              <h4>تحذير: سلوك مختلف في التدريب والتقييم</h4>
              <p>
                أثناء التدريب، تستخدم BatchNorm إحصائيات الدفعة الحالية. أما أثناء التقييم (inference)، 
                فتستخدم متوسطات متحركة تم حفظها أثناء التدريب. تأكد من تعيين <code>training=False</code> عند التقييم.
              </p>
            </div>
          </div>
        </section>

        <!-- Activation -->
        <section id="activation" class="content-section">
          <h2>دالة التنشيط ReLU</h2>
          
          <p>
            ReLU (Rectified Linear Unit) هي دالة التنشيط الأكثر استخدامًا في الشبكات العصبية الحديثة. 
            صيغتها بسيطة جدًا: <code>f(x) = max(0, x)</code>، أي أنها تُبقي القيم الموجبة كما هي 
            وتحول القيم السالبة إلى صفر.
          </p>

          <h3>مميزات ReLU</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>بسيطة وسريعة:</strong> حسابيًا أبسط بكثير من sigmoid و tanh</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تحل مشكلة التلاشي:</strong> لا تعاني من مشكلة تلاشي التدرجات (Vanishing Gradients)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>الطرازية (Sparsity):</strong> تنتج تمثيلات متناثرة حيث بعض الخلايا العصبية تكون غير نشطة</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># استخدام ReLU كطبقة منفصلة
model.add(layers.ReLU())

# أو كمعامل activation في طبقة أخرى
model.add(layers.Dense(128, activation='relu'))

# ReLU: f(x) = max(0, x)
# - القيم الموجبة: تبقى كما هي
# - القيم السالبة: تصبح صفر</code></pre>
            </div>
          </div>
        </section>

        <!-- MaxPooling -->
        <section id="maxpooling" class="content-section">
          <h2>طبقة MaxPooling</h2>
          
          <p>
            طبقة التجميع الأقصى (Max Pooling) تقلل الأبعاد المكانية لخرائط الميزات مع الاحتفاظ 
            بأهم المعلومات. تعمل عن طريق تقسيم الإدخال إلى مناطق صغيرة (عادة 2×2) واختيار 
            القيمة الأكبر من كل منطقة.
          </p>

          <h3>فوائد MaxPooling</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>تقليل الأبعاد:</strong> تقلص الحجم المكاني بمقدار النصف (مع pool_size=2×2)</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تقليل الحسابات:</strong> تقل عدد المعاملات والعمليات في الطبقات اللاحقة</li>
            <li style="margin-bottom: var(--space-sm);"><strong>الثبات المكاني:</strong> تجعل النموذج أكثر مقاومة للتغييرات الصغيرة في موقع الميزات</li>
            <li style="margin-bottom: var(--space-sm);"><strong>استخراج أقوى الميزات:</strong> بأخذ القيمة الأكبر، نحتفظ بأقوى الاستجابات</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># MaxPooling بحجم 2×2
model.add(layers.MaxPooling2D(pool_size=(2, 2)))

# مثال على تأثير MaxPooling:
# الإدخال: (batch, 224, 224, 32)
# الإخراج: (batch, 112, 112, 32)
# - الأبعاد المكانية تقلصت للنصف
# - عدد القنوات (الفلاتر) بقي كما هو</code></pre>
            </div>
          </div>
        </section>

        <!-- Global Average Pooling -->
        <section id="globalpooling" class="content-section">
          <h2>طبقة Global Average Pooling</h2>
          
          <p>
            Global Average Pooling (GAP) هي بديل أنيق للطبقات الكثيفة الكبيرة في نهاية الشبكة. 
            تأخذ متوسط جميع القيم في كل خريطة ميزات، محولة كل خريطة إلى قيمة واحدة فقط.
          </p>

          <h3>لماذا نستخدم GAP بدلاً من Flatten + Dense؟</h3>
          <ul style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
            <li style="margin-bottom: var(--space-sm);"><strong>عدد معاملات أقل بكثير:</strong> لا تضيف أي معاملات قابلة للتعلم</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تنظيم أفضل:</strong> تقلل من الإفراط في التكييف</li>
            <li style="margin-bottom: var(--space-sm);"><strong>تفسير أسهل:</strong> كل ناتج يمثل متوسط "تنشيط" فئة معينة</li>
            <li style="margin-bottom: var(--space-sm);"><strong>مرونة في حجم الإدخال:</strong> يمكن للشبكة قبول صور بأحجام مختلفة</li>
          </ul>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># Global Average Pooling
model.add(layers.GlobalAveragePooling2D())

# مثال على التأثير:
# الإدخال: (batch, 14, 14, 256)
# الإخراج: (batch, 256)
# - تحويل كل خريطة ميزات (14×14) إلى قيمة واحدة
# - 256 قيمة تمثل 256 خريطة ميزات</code></pre>
            </div>
          </div>
        </section>

        <!-- Dropout -->
        <section id="dropout" class="content-section">
          <h2>طبقة Dropout</h2>
          
          <p>
            Dropout هي تقنية تنظيم قوية وبسيطة لمنع الإفراط في التكييف. خلال التدريب، تقوم 
            بتعطيل نسبة عشوائية من الخلايا العصبية (تحويل مخرجاتها إلى صفر)، مما يجبر الشبكة 
            على تعلم ميزات أكثر قوة وتوزيعًا.
          </p>

          <h3>كيف يعمل Dropout؟</h3>
          <p>
            تخيل أنك تدرب فريقًا رياضيًا، لكن في كل تدريب تختار عشوائيًا بعض اللاعبين للجلوس. 
            هذا يجبر باقي اللاعبين على التأقلم والتعاون بشكل أفضل. بنفس الطريقة، Dropout يجبر 
            كل خلية عصبية على أن تكون مفيدة بذاتها وألا تعتمد كليًا على خلايا أخرى.
          </p>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># Dropout بنسبة 40% (تعطيل 40% من الخلايا)
model.add(layers.Dropout(0.4))

# نسب Dropout المستخدمة في نموذجنا:
# - بعد GAP: Dropout(0.4) - نسبة عالية لتنظيم قوي
# - بعد Dense(128): Dropout(0.3) - نسبة أقل

# ملاحظة مهمة:
# - Dropout يعمل فقط أثناء التدريب
# - أثناء التقييم/الاستدلال، جميع الخلايا نشطة</code></pre>
            </div>
          </div>

          <div class="info-card success">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div class="info-card-content">
              <h4>نصيحة: اختيار نسبة Dropout</h4>
              <p>
                النسب الشائعة: 0.2-0.5. ابدأ بـ 0.3-0.4 وعدّل حسب الحاجة. 
                إذا كان هناك إفراط في التكييف (val_loss يرتفع)، زد النسبة. 
                إذا كان الأداء ضعيفًا على بيانات التدريب، قلل النسبة.
              </p>
            </div>
          </div>
        </section>

        <!-- Dense Layers -->
        <section id="dense" class="content-section">
          <h2>الطبقات الكثيفة (Dense Layers)</h2>
          
          <p>
            الطبقات الكثيفة (أو Fully Connected) هي طبقات تقليدية حيث كل خلية عصبية متصلة 
            بجميع الخلايا في الطبقة السابقة. نستخدمها في نهاية الشبكة للتصنيف النهائي.
          </p>

          <h3>طبقات التصنيف في نموذجنا</h3>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>الطبقة</th>
                  <th>عدد الخلايا</th>
                  <th>التنشيط</th>
                  <th>الدور</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Dense الأولى</td>
                  <td>128</td>
                  <td>ReLU</td>
                  <td>تعلم تمثيلات عالية المستوى</td>
                </tr>
                <tr>
                  <td>Dense الأخيرة</td>
                  <td>num_classes</td>
                  <td>Softmax</td>
                  <td>إخراج احتمالات الفئات</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code># طبقة كثيفة متوسطة
model.add(layers.Dense(128, activation='relu'))

# طبقة التصنيف النهائية
# num_classes = عدد الفئات (مثلاً 10 لـ CIFAR-10)
model.add(layers.Dense(num_classes, activation='softmax'))

# Softmax: يحول المخرجات إلى احتمالات
# - جميع القيم بين 0 و 1
# - مجموع جميع القيم = 1
# - أعلى قيمة = الفئة المتوقعة</code></pre>
            </div>
          </div>
        </section>

        <!-- Full Code -->
        <section id="full-code" class="content-section">
          <h2>الكود الكامل للنموذج (Sequential API)</h2>
          
          <p>
            إليك الكود الكامل لإنشاء نموذج CNN باستخدام Sequential API. هذه الطريقة مثالية 
            للنماذج التسلسلية البسيطة حيث كل طبقة لها مدخل واحد ومخرج واحد.
          </p>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>import tensorflow as tf
from tensorflow.keras import layers, models

def create_cnn_model(input_shape, num_classes):
    """
    إنشاء نموذج CNN حسب الهندسة المحددة
    
    Args:
        input_shape: شكل صورة الإدخال (height, width, channels)
        num_classes: عدد الفئات للتصنيف
    
    Returns:
        نموذج Keras
    """
    model = models.Sequential()
    
    # ═══════════════════════════════════════════════════
    # Block 1: استخراج الميزات الأساسية (حواف، خطوط)
    # ═══════════════════════════════════════════════════
    model.add(layers.Conv2D(32, (3, 3), padding='same', input_shape=input_shape))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.MaxPooling2D((2, 2)))
    
    # ═══════════════════════════════════════════════════
    # Block 2: ميزات أكثر تعقيدًا (أنماط، أشكال)
    # ═══════════════════════════════════════════════════
    model.add(layers.Conv2D(64, (3, 3), padding='same'))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.MaxPooling2D((2, 2)))
    
    # ═══════════════════════════════════════════════════
    # Block 3: طبقتان التفاف متتاليتان
    # ═══════════════════════════════════════════════════
    model.add(layers.Conv2D(128, (3, 3), padding='same'))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.Conv2D(128, (3, 3), padding='same'))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.MaxPooling2D((2, 2)))
    
    # ═══════════════════════════════════════════════════
    # Block 4: ميزات عالية المستوى (أجزاء الكائنات)
    # ═══════════════════════════════════════════════════
    model.add(layers.Conv2D(256, (3, 3), padding='same'))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.Conv2D(256, (3, 3), padding='same'))
    model.add(layers.BatchNormalization())
    model.add(layers.ReLU())
    model.add(layers.MaxPooling2D((2, 2)))
    
    # ═══════════════════════════════════════════════════
    # Classification Head: التصنيف النهائي
    # ═══════════════════════════════════════════════════
    model.add(layers.GlobalAveragePooling2D())
    model.add(layers.Dropout(0.4))
    model.add(layers.Dense(128, activation='relu'))
    model.add(layers.Dropout(0.3))
    model.add(layers.Dense(num_classes, activation='softmax'))
    
    return model

# ═══════════════════════════════════════════════════════
# مثال للاستخدام
# ═══════════════════════════════════════════════════════
if __name__ == "__main__":
    # تعريف المعلمات
    INPUT_SHAPE = (224, 224, 3)  # صور 224×224 RGB
    NUM_CLASSES = 10             # 10 فئات
    
    # إنشاء النموذج
    model = create_cnn_model(INPUT_SHAPE, NUM_CLASSES)
    
    # عرض ملخص النموذج
    model.summary()
    
    # تجميع النموذج
    model.compile(
        optimizer='adam',
        loss='categorical_crossentropy',
        metrics=['accuracy']
    )
    
    print("✅ تم إنشاء النموذج بنجاح!")</code></pre>
            </div>
          </div>
        </section>

        <!-- Functional API -->
        <section id="functional-api" class="content-section">
          <h2>الكود باستخدام Functional API</h2>
          
          <p>
            Functional API توفر مرونة أكبر وتسمح ببناء نماذج أكثر تعقيدًا مثل النماذج ذات 
            المدخلات/المخرجات المتعددة، والنماذج ذات التفرعات والاتصالات المتخطية (Skip Connections).
          </p>

          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">Python</span>
              <button class="copy-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
                نسخ
              </button>
            </div>
            <div class="code-content">
<pre><code>import tensorflow as tf
from tensorflow.keras import layers

def create_cnn_functional(input_shape, num_classes):
    """
    نسخة باستخدام Functional API
    أكثر مرونة وتسمح ببناء نماذج معقدة
    """
    # تعريف طبقة الإدخال
    inputs = tf.keras.Input(shape=input_shape)
    
    # Block 1
    x = layers.Conv2D(32, 3, padding='same')(inputs)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.MaxPooling2D()(x)
    
    # Block 2
    x = layers.Conv2D(64, 3, padding='same')(x)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.MaxPooling2D()(x)
    
    # Block 3
    x = layers.Conv2D(128, 3, padding='same')(x)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.Conv2D(128, 3, padding='same')(x)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.MaxPooling2D()(x)
    
    # Block 4
    x = layers.Conv2D(256, 3, padding='same')(x)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.Conv2D(256, 3, padding='same')(x)
    x = layers.BatchNormalization()(x)
    x = layers.ReLU()(x)
    x = layers.MaxPooling2D()(x)
    
    # Classification Head
    x = layers.GlobalAveragePooling2D()(x)
    x = layers.Dropout(0.4)(x)
    x = layers.Dense(128, activation='relu')(x)
    x = layers.Dropout(0.3)(x)
    outputs = layers.Dense(num_classes, activation='softmax')(x)
    
    # إنشاء النموذج
    model = tf.keras.Model(inputs=inputs, outputs=outputs)
    return model

# الاستخدام
model = create_cnn_functional(
    input_shape=(224, 224, 3),
    num_classes=10
)
model.summary()</code></pre>
            </div>
          </div>

          <div class="info-card info">
            <svg class="info-card-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <div class="info-card-content">
              <h4>متى تستخدم Functional API؟</h4>
              <p>
                استخدم Functional API عندما تحتاج: نماذج ذات مدخلات/مخرجات متعددة، 
                اتصالات متخطية (Skip Connections)، مشاركة الطبقات بين مسارات مختلفة، 
                أو بنى معقدة مثل ResNet وInception.
              </p>
            </div>
          </div>
        </section>

        <!-- Navigation -->
        <div style="display: flex; justify-content: space-between; margin-top: var(--space-2xl); padding-top: var(--space-xl); border-top: 1px solid var(--border-color);">
          <a href="index.html" class="btn btn-secondary">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
            الصفحة الرئيسية
          </a>
          <a href="preprocessing.html" class="btn btn-primary">
            معالجة الصور
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </a>
        </div>
      </article>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>جميع الحقوق محفوظة © 2024 - دليل التعلم العميق الشامل</p>
      </div>
    </div>
  </footer>

  <!-- Search Modal -->
  <div class="search-modal">
    <div class="search-container">
      <div class="search-input-wrapper">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
        <input type="search" class="search-input" placeholder="ابحث في الدليل... (Ctrl+K)">
      </div>
      <div class="search-results"></div>
    </div>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
